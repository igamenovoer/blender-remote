<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: system_architecture_corrected Pages: 1 -->
<svg width="571pt" height="721pt"
 viewBox="0.00 0.00 571.00 721.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 717)">
<title>system_architecture_corrected</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-717 567,-717 567,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_llm</title>
<polygon fill="lightgreen" stroke="black" points="8,-628 8,-705 310,-705 310,-628 8,-628"/>
<text text-anchor="middle" x="159" y="-689.8" font-family="Times,serif" font-size="14.00">LLM IDE Layer</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_mcp</title>
<polygon fill="orange" stroke="black" points="71,-368 71,-580 296,-580 296,-368 71,-368"/>
<text text-anchor="middle" x="183.5" y="-564.8" font-family="Times,serif" font-size="14.00">MCP Client Layer</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_fastmcp</title>
<polygon fill="yellow" stroke="black" points="79,-376 79,-549 288,-549 288,-376 79,-376"/>
<text text-anchor="middle" x="183.5" y="-533.8" font-family="Times,serif" font-size="14.00">uvx blender&#45;remote</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_external</title>
<polygon fill="lightblue" stroke="black" points="329,-376 329,-453 499,-453 499,-376 329,-376"/>
<text text-anchor="middle" x="414" y="-437.8" font-family="Times,serif" font-size="14.00">External Python</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_blender_service</title>
<polygon fill="lightcoral" stroke="black" points="134,-131 134,-322 398,-322 398,-131 134,-131"/>
<text text-anchor="middle" x="266" y="-306.8" font-family="Times,serif" font-size="14.00">Blender Service Layer</text>
</g>
<g id="clust6" class="cluster">
<title>cluster_addon</title>
<polygon fill="pink" stroke="black" points="142,-139 142,-291 390,-291 390,-139 142,-139"/>
<text text-anchor="middle" x="266" y="-275.8" font-family="Times,serif" font-size="14.00">blender_addon/bld_remote_mcp/</text>
</g>
<g id="clust7" class="cluster">
<title>cluster_blender_app</title>
<polygon fill="lightgray" stroke="black" points="173,-8 173,-85 469,-85 469,-8 173,-8"/>
<text text-anchor="middle" x="321" y="-69.8" font-family="Times,serif" font-size="14.00">Blender Application</text>
</g>
<!-- vscode -->
<g id="node1" class="node">
<title>vscode</title>
<polygon fill="lightblue" stroke="black" points="125.5,-674 16.5,-674 16.5,-636 125.5,-636 125.5,-674"/>
<text text-anchor="middle" x="71" y="-658.8" font-family="Times,serif" font-size="14.00">VSCode</text>
<text text-anchor="middle" x="71" y="-643.8" font-family="Times,serif" font-size="14.00">(Claude Dev)</text>
</g>
<!-- fastmcp -->
<g id="node4" class="node">
<title>fastmcp</title>
<polygon fill="lightyellow" stroke="black" points="222,-518 140,-518 140,-480 222,-480 222,-518"/>
<text text-anchor="middle" x="181" y="-502.8" font-family="Times,serif" font-size="14.00">FastMCP</text>
<text text-anchor="middle" x="181" y="-487.8" font-family="Times,serif" font-size="14.00">Server</text>
</g>
<!-- vscode&#45;&gt;fastmcp -->
<g id="edge1" class="edge">
<title>vscode&#45;&gt;fastmcp</title>
<path fill="none" stroke="black" d="M69.42,-635.87C69,-621.99 70.21,-602.78 78,-588 92.09,-561.24 118.01,-539.17 140.32,-523.82"/>
<polygon fill="black" stroke="black" points="142.27,-526.72 148.66,-518.27 138.4,-520.89 142.27,-526.72"/>
<text text-anchor="middle" x="127.5" y="-606.8" font-family="Times,serif" font-size="14.00">MCP Protocol</text>
<text text-anchor="middle" x="127.5" y="-591.8" font-family="Times,serif" font-size="14.00">(stdio)</text>
</g>
<!-- claude -->
<g id="node2" class="node">
<title>claude</title>
<polygon fill="lightblue" stroke="black" points="218.5,-674 143.5,-674 143.5,-636 218.5,-636 218.5,-674"/>
<text text-anchor="middle" x="181" y="-658.8" font-family="Times,serif" font-size="14.00">Claude</text>
<text text-anchor="middle" x="181" y="-643.8" font-family="Times,serif" font-size="14.00">Desktop</text>
</g>
<!-- claude&#45;&gt;fastmcp -->
<g id="edge2" class="edge">
<title>claude&#45;&gt;fastmcp</title>
<path fill="none" stroke="black" d="M181,-635.73C181,-609.22 181,-559.83 181,-528.51"/>
<polygon fill="black" stroke="black" points="184.5,-528.25 181,-518.25 177.5,-528.25 184.5,-528.25"/>
<text text-anchor="middle" x="230.5" y="-606.8" font-family="Times,serif" font-size="14.00">MCP Protocol</text>
<text text-anchor="middle" x="230.5" y="-591.8" font-family="Times,serif" font-size="14.00">(stdio)</text>
</g>
<!-- cursor -->
<g id="node3" class="node">
<title>cursor</title>
<polygon fill="lightblue" stroke="black" points="301.5,-674 236.5,-674 236.5,-636 301.5,-636 301.5,-674"/>
<text text-anchor="middle" x="269" y="-658.8" font-family="Times,serif" font-size="14.00">Cursor</text>
<text text-anchor="middle" x="269" y="-643.8" font-family="Times,serif" font-size="14.00">(AI)</text>
</g>
<!-- cursor&#45;&gt;fastmcp -->
<g id="edge3" class="edge">
<title>cursor&#45;&gt;fastmcp</title>
<path fill="none" stroke="black" d="M277.85,-635.93C283.25,-622.25 287.91,-603.28 281,-588 268.81,-561.03 243.8,-539.02 221.85,-523.77"/>
<polygon fill="black" stroke="black" points="223.56,-520.7 213.31,-518.05 219.67,-526.52 223.56,-520.7"/>
<text text-anchor="middle" x="333.5" y="-606.8" font-family="Times,serif" font-size="14.00">MCP Protocol</text>
<text text-anchor="middle" x="333.5" y="-591.8" font-family="Times,serif" font-size="14.00">(stdio)</text>
</g>
<!-- tools -->
<g id="node5" class="node">
<title>tools</title>
<polygon fill="lightyellow" stroke="black" points="169,-422 87,-422 87,-384 169,-384 169,-422"/>
<text text-anchor="middle" x="128" y="-406.8" font-family="Times,serif" font-size="14.00">Tool</text>
<text text-anchor="middle" x="128" y="-391.8" font-family="Times,serif" font-size="14.00">Handlers</text>
</g>
<!-- fastmcp&#45;&gt;tools -->
<g id="edge4" class="edge">
<title>fastmcp&#45;&gt;tools</title>
<path fill="none" stroke="black" d="M170.78,-479.88C162.94,-465.96 151.98,-446.53 143.12,-430.82"/>
<polygon fill="black" stroke="black" points="146.15,-429.06 138.19,-422.07 140.05,-432.5 146.15,-429.06"/>
</g>
<!-- connection -->
<g id="node6" class="node">
<title>connection</title>
<polygon fill="lightyellow" stroke="black" points="280.5,-422 187.5,-422 187.5,-384 280.5,-384 280.5,-422"/>
<text text-anchor="middle" x="234" y="-406.8" font-family="Times,serif" font-size="14.00">TCP Client</text>
<text text-anchor="middle" x="234" y="-391.8" font-family="Times,serif" font-size="14.00">Connector</text>
</g>
<!-- fastmcp&#45;&gt;connection -->
<g id="edge5" class="edge">
<title>fastmcp&#45;&gt;connection</title>
<path fill="none" stroke="black" d="M191.22,-479.88C199.06,-465.96 210.02,-446.53 218.88,-430.82"/>
<polygon fill="black" stroke="black" points="221.95,-432.5 223.81,-422.07 215.85,-429.06 221.95,-432.5"/>
</g>
<!-- tcp_server -->
<g id="node8" class="node">
<title>tcp_server</title>
<polygon fill="white" stroke="black" points="333.5,-260 192.5,-260 192.5,-222 333.5,-222 333.5,-260"/>
<text text-anchor="middle" x="263" y="-244.8" font-family="Times,serif" font-size="14.00">TCP Server</text>
<text text-anchor="middle" x="263" y="-229.8" font-family="Times,serif" font-size="14.00">(Listens on 6688)</text>
</g>
<!-- connection&#45;&gt;tcp_server -->
<g id="edge6" class="edge">
<title>connection&#45;&gt;tcp_server</title>
<path fill="none" stroke="black" d="M232.79,-383.82C232.16,-369.19 232.05,-348.14 235,-330 238.37,-309.23 245.65,-286.63 251.93,-269.53"/>
<polygon fill="black" stroke="black" points="255.22,-270.75 255.49,-260.16 248.67,-268.27 255.22,-270.75"/>
<text text-anchor="middle" x="313.5" y="-348.8" font-family="Times,serif" font-size="14.00">TCP Client</text>
<text text-anchor="middle" x="313.5" y="-333.8" font-family="Times,serif" font-size="14.00">connects to port 6688</text>
</g>
<!-- python_api -->
<g id="node7" class="node">
<title>python_api</title>
<polygon fill="white" stroke="black" points="491,-422 337,-422 337,-384 491,-384 491,-422"/>
<text text-anchor="middle" x="414" y="-406.8" font-family="Times,serif" font-size="14.00">Python Control API</text>
<text text-anchor="middle" x="414" y="-391.8" font-family="Times,serif" font-size="14.00">(Direct TCP Client)</text>
</g>
<!-- python_api&#45;&gt;tcp_server -->
<g id="edge7" class="edge">
<title>python_api&#45;&gt;tcp_server</title>
<path fill="none" stroke="black" d="M411.89,-383.93C409.32,-368.38 403.77,-346 392,-330 371.36,-301.95 338.94,-279.89 311.77,-264.87"/>
<polygon fill="black" stroke="black" points="313.25,-261.69 302.78,-260.05 309.94,-267.86 313.25,-261.69"/>
<text text-anchor="middle" x="484.5" y="-348.8" font-family="Times,serif" font-size="14.00">TCP Client</text>
<text text-anchor="middle" x="484.5" y="-333.8" font-family="Times,serif" font-size="14.00">connects to port 6688</text>
</g>
<!-- cmd_handlers -->
<g id="node9" class="node">
<title>cmd_handlers</title>
<polygon fill="white" stroke="black" points="260.5,-185 171.5,-185 171.5,-147 260.5,-147 260.5,-185"/>
<text text-anchor="middle" x="216" y="-169.8" font-family="Times,serif" font-size="14.00">Command</text>
<text text-anchor="middle" x="216" y="-154.8" font-family="Times,serif" font-size="14.00">Handlers</text>
</g>
<!-- tcp_server&#45;&gt;cmd_handlers -->
<g id="edge8" class="edge">
<title>tcp_server&#45;&gt;cmd_handlers</title>
<path fill="none" stroke="black" d="M251.38,-221.96C245.9,-213.44 239.25,-203.12 233.2,-193.72"/>
<polygon fill="black" stroke="black" points="236,-191.6 227.65,-185.09 230.12,-195.39 236,-191.6"/>
</g>
<!-- scene_mgr -->
<g id="node10" class="node">
<title>scene_mgr</title>
<polygon fill="white" stroke="black" points="359,-185 279,-185 279,-147 359,-147 359,-185"/>
<text text-anchor="middle" x="319" y="-169.8" font-family="Times,serif" font-size="14.00">Scene</text>
<text text-anchor="middle" x="319" y="-154.8" font-family="Times,serif" font-size="14.00">Manager</text>
</g>
<!-- tcp_server&#45;&gt;scene_mgr -->
<g id="edge9" class="edge">
<title>tcp_server&#45;&gt;scene_mgr</title>
<path fill="none" stroke="black" d="M276.84,-221.96C283.51,-213.27 291.62,-202.69 298.95,-193.14"/>
<polygon fill="black" stroke="black" points="301.81,-195.16 305.12,-185.09 296.26,-190.89 301.81,-195.16"/>
</g>
<!-- scene_app -->
<g id="node11" class="node">
<title>scene_app</title>
<polygon fill="white" stroke="black" points="261,-54 181,-54 181,-16 261,-16 261,-54"/>
<text text-anchor="middle" x="221" y="-38.8" font-family="Times,serif" font-size="14.00">Scene</text>
<text text-anchor="middle" x="221" y="-23.8" font-family="Times,serif" font-size="14.00">Manager</text>
</g>
<!-- cmd_handlers&#45;&gt;scene_app -->
<g id="edge10" class="edge">
<title>cmd_handlers&#45;&gt;scene_app</title>
<path fill="none" stroke="black" d="M216.71,-146.79C217.54,-125.28 218.94,-89.25 219.91,-64.14"/>
<polygon fill="black" stroke="black" points="223.41,-64.24 220.3,-54.12 216.41,-63.97 223.41,-64.24"/>
<text text-anchor="middle" x="258" y="-111.8" font-family="Times,serif" font-size="14.00">Blender</text>
<text text-anchor="middle" x="258" y="-96.8" font-family="Times,serif" font-size="14.00">Python API</text>
</g>
<!-- objects -->
<g id="node12" class="node">
<title>objects</title>
<polygon fill="white" stroke="black" points="359,-54 279,-54 279,-16 359,-16 359,-54"/>
<text text-anchor="middle" x="319" y="-38.8" font-family="Times,serif" font-size="14.00">Objects</text>
<text text-anchor="middle" x="319" y="-23.8" font-family="Times,serif" font-size="14.00">Manager</text>
</g>
<!-- scene_mgr&#45;&gt;objects -->
<g id="edge11" class="edge">
<title>scene_mgr&#45;&gt;objects</title>
<path fill="none" stroke="black" d="M319,-146.79C319,-125.28 319,-89.25 319,-64.14"/>
<polygon fill="black" stroke="black" points="322.5,-64.12 319,-54.12 315.5,-64.12 322.5,-64.12"/>
<text text-anchor="middle" x="359" y="-111.8" font-family="Times,serif" font-size="14.00">Blender</text>
<text text-anchor="middle" x="359" y="-96.8" font-family="Times,serif" font-size="14.00">Python API</text>
</g>
<!-- viewport -->
<g id="node13" class="node">
<title>viewport</title>
<polygon fill="white" stroke="black" points="460.5,-54 377.5,-54 377.5,-16 460.5,-16 460.5,-54"/>
<text text-anchor="middle" x="419" y="-38.8" font-family="Times,serif" font-size="14.00">Viewport</text>
<text text-anchor="middle" x="419" y="-23.8" font-family="Times,serif" font-size="14.00">Renderer</text>
</g>
<!-- scene_mgr&#45;&gt;viewport -->
<g id="edge12" class="edge">
<title>scene_mgr&#45;&gt;viewport</title>
<path fill="none" stroke="black" d="M359.32,-152.37C374.15,-145.82 389.79,-136.33 400,-123 412.81,-106.28 417.37,-82.71 418.83,-64.32"/>
<polygon fill="black" stroke="black" points="422.33,-64.35 419.37,-54.18 415.34,-63.98 422.33,-64.35"/>
<text text-anchor="middle" x="453" y="-111.8" font-family="Times,serif" font-size="14.00">Blender</text>
<text text-anchor="middle" x="453" y="-96.8" font-family="Times,serif" font-size="14.00">Python API</text>
</g>
</g>
</svg>
