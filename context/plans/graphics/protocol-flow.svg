<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: ProtocolFlow Pages: 1 -->
<svg width="1091pt" height="487pt"
 viewBox="0.00 0.00 1091.00 486.50" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 482.5)">
<title>ProtocolFlow</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-482.5 1087,-482.5 1087,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_http</title>
<polygon fill="lightblue" stroke="lightblue" points="10,-303 10,-432 141,-432 141,-303 10,-303"/>
<text text-anchor="middle" x="75.5" y="-416.8" font-family="Times,serif" font-size="14.00">HTTP/CLI Layer</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_mcp</title>
<polygon fill="lightyellow" stroke="lightyellow" points="8,-108 8,-215 561,-215 561,-108 8,-108"/>
<text text-anchor="middle" x="284.5" y="-199.8" font-family="Times,serif" font-size="14.00">MCP Layer</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_service</title>
<polygon fill="lightgreen" stroke="lightgreen" points="377,-223 377,-387 543,-387 543,-223 377,-223"/>
<text text-anchor="middle" x="460" y="-371.8" font-family="Times,serif" font-size="14.00">Service Layer</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_blender</title>
<polygon fill="lightcyan" stroke="lightcyan" points="712,-270 712,-347 1075,-347 1075,-270 712,-270"/>
<text text-anchor="middle" x="893.5" y="-331.8" font-family="Times,serif" font-size="14.00">Blender Layer</text>
</g>
<!-- HTTPie -->
<g id="node1" class="node">
<title>HTTPie</title>
<polygon fill="white" stroke="black" points="110.5,-401 40.5,-401 40.5,-365 110.5,-365 110.5,-401"/>
<text text-anchor="middle" x="75.5" y="-379.3" font-family="Times,serif" font-size="14.00">HTTPie</text>
</g>
<!-- BLD_TCP -->
<g id="node5" class="node">
<title>BLD_TCP</title>
<polygon fill="white" stroke="black" points="535,-355.5 385,-355.5 385,-302.5 535,-302.5 535,-355.5"/>
<text text-anchor="middle" x="460" y="-340.3" font-family="Times,serif" font-size="14.00">BLD_Remote_MCP</text>
<text text-anchor="middle" x="460" y="-325.3" font-family="Times,serif" font-size="14.00">TCP Server</text>
<text text-anchor="middle" x="460" y="-310.3" font-family="Times,serif" font-size="14.00">(port 6688)</text>
</g>
<!-- HTTPie&#45;&gt;BLD_TCP -->
<g id="edge3" class="edge">
<title>HTTPie&#45;&gt;BLD_TCP</title>
<path fill="none" stroke="black" d="M110.53,-381.29C157.28,-378.62 243.9,-372.53 317,-361 335.92,-358.02 356.08,-353.99 375.09,-349.81"/>
<polygon fill="black" stroke="black" points="375.92,-353.21 384.92,-347.61 374.39,-346.38 375.92,-353.21"/>
<text text-anchor="middle" x="235.5" y="-396.8" font-family="Times,serif" font-size="14.00">JSON/TCP</text>
<text text-anchor="middle" x="235.5" y="-381.8" font-family="Times,serif" font-size="14.00">Direct</text>
</g>
<!-- JSON_Msg -->
<g id="node9" class="node">
<title>JSON_Msg</title>
<polygon fill="lightyellow" stroke="black" points="525,-478.5 389,-478.5 389,-395.5 531,-395.5 531,-472.5 525,-478.5"/>
<polyline fill="none" stroke="black" points="525,-478.5 525,-472.5 "/>
<polyline fill="none" stroke="black" points="531,-472.5 525,-472.5 "/>
<text text-anchor="middle" x="460" y="-463.3" font-family="Times,serif" font-size="14.00">JSON Message:</text>
<text text-anchor="middle" x="460" y="-448.3" font-family="Times,serif" font-size="14.00">{</text>
<text text-anchor="middle" x="460" y="-433.3" font-family="Times,serif" font-size="14.00"> &#160;&quot;message&quot;: &quot;...&quot;,</text>
<text text-anchor="middle" x="460" y="-418.3" font-family="Times,serif" font-size="14.00"> &#160;&quot;code&quot;: &quot;...&quot;</text>
<text text-anchor="middle" x="460" y="-403.3" font-family="Times,serif" font-size="14.00">}</text>
</g>
<!-- HTTPie&#45;&gt;JSON_Msg -->
<g id="edge9" class="edge">
<title>HTTPie&#45;&gt;JSON_Msg</title>
<path fill="none" stroke="black" stroke-dasharray="1,5" d="M110.6,-398.08C123.89,-403.34 139.42,-408.74 154,-412 229.02,-428.77 316.68,-434.57 378.71,-436.44"/>
<polygon fill="black" stroke="black" points="378.74,-439.94 388.83,-436.72 378.93,-432.95 378.74,-439.94"/>
</g>
<!-- Socket -->
<g id="node2" class="node">
<title>Socket</title>
<polygon fill="white" stroke="black" points="132,-347 19,-347 19,-311 132,-311 132,-347"/>
<text text-anchor="middle" x="75.5" y="-325.3" font-family="Times,serif" font-size="14.00">Direct Socket</text>
</g>
<!-- Socket&#45;&gt;BLD_TCP -->
<g id="edge4" class="edge">
<title>Socket&#45;&gt;BLD_TCP</title>
<path fill="none" stroke="black" d="M132.12,-329C195.84,-329 300.95,-329 374.73,-329"/>
<polygon fill="black" stroke="black" points="374.93,-332.5 384.93,-329 374.93,-325.5 374.93,-332.5"/>
<text text-anchor="middle" x="235.5" y="-347.8" font-family="Times,serif" font-size="14.00">Raw Socket</text>
<text text-anchor="middle" x="235.5" y="-332.8" font-family="Times,serif" font-size="14.00">Direct</text>
</g>
<!-- FastMCP -->
<g id="node3" class="node">
<title>FastMCP</title>
<polygon fill="white" stroke="black" points="135,-180 16,-180 16,-142 135,-142 135,-180"/>
<text text-anchor="middle" x="75.5" y="-164.8" font-family="Times,serif" font-size="14.00">mcp_server.py</text>
<text text-anchor="middle" x="75.5" y="-149.8" font-family="Times,serif" font-size="14.00">(FastMCP)</text>
</g>
<!-- MCP_Tools -->
<g id="node4" class="node">
<title>MCP_Tools</title>
<polygon fill="white" stroke="black" points="553,-184 367,-184 367,-116 553,-116 553,-184"/>
<text text-anchor="middle" x="460" y="-168.8" font-family="Times,serif" font-size="14.00">MCP Tools</text>
<text text-anchor="middle" x="460" y="-153.8" font-family="Times,serif" font-size="14.00">• get_scene_info</text>
<text text-anchor="middle" x="460" y="-138.8" font-family="Times,serif" font-size="14.00">• execute_blender_code</text>
<text text-anchor="middle" x="460" y="-123.8" font-family="Times,serif" font-size="14.00">• get_object_info</text>
</g>
<!-- FastMCP&#45;&gt;MCP_Tools -->
<g id="edge1" class="edge">
<title>FastMCP&#45;&gt;MCP_Tools</title>
<path fill="none" stroke="black" d="M135.01,-159.32C193.75,-157.63 285.46,-154.99 356.34,-152.95"/>
<polygon fill="black" stroke="black" points="356.74,-156.44 366.64,-152.66 356.54,-149.45 356.74,-156.44"/>
</g>
<!-- FastMCP&#45;&gt;BLD_TCP -->
<g id="edge5" class="edge">
<title>FastMCP&#45;&gt;BLD_TCP</title>
<path fill="none" stroke="black" d="M90.72,-180.32C104.87,-198.24 128.17,-224.43 154,-240 191.19,-262.41 297.98,-290.92 374.71,-309.55"/>
<polygon fill="black" stroke="black" points="374.31,-313.05 384.85,-311.99 375.95,-306.25 374.31,-313.05"/>
<text text-anchor="middle" x="235.5" y="-311.8" font-family="Times,serif" font-size="14.00">JSON/TCP</text>
<text text-anchor="middle" x="235.5" y="-296.8" font-family="Times,serif" font-size="14.00">via BlenderConnection</text>
</g>
<!-- Auto_TCP -->
<g id="node6" class="node">
<title>Auto_TCP</title>
<polygon fill="white" stroke="black" points="530,-284.5 390,-284.5 390,-231.5 530,-231.5 530,-284.5"/>
<text text-anchor="middle" x="460" y="-269.3" font-family="Times,serif" font-size="14.00">BlenderAutoMCP</text>
<text text-anchor="middle" x="460" y="-254.3" font-family="Times,serif" font-size="14.00">TCP Server</text>
<text text-anchor="middle" x="460" y="-239.3" font-family="Times,serif" font-size="14.00">(port 9876)</text>
</g>
<!-- FastMCP&#45;&gt;Auto_TCP -->
<g id="edge6" class="edge">
<title>FastMCP&#45;&gt;Auto_TCP</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M135.01,-175.84C200.47,-192.44 306.87,-219.42 379.75,-237.9"/>
<polygon fill="black" stroke="black" points="379.25,-241.39 389.81,-240.45 380.97,-234.6 379.25,-241.39"/>
<text text-anchor="middle" x="235.5" y="-224.8" font-family="Times,serif" font-size="14.00">Reference</text>
</g>
<!-- MCP_Msg -->
<g id="node10" class="node">
<title>MCP_Msg</title>
<polygon fill="lightcyan" stroke="black" points="579,-98 335,-98 335,0 585,0 585,-92 579,-98"/>
<polyline fill="none" stroke="black" points="579,-98 579,-92 "/>
<polyline fill="none" stroke="black" points="585,-92 579,-92 "/>
<text text-anchor="middle" x="460" y="-82.8" font-family="Times,serif" font-size="14.00">MCP Message:</text>
<text text-anchor="middle" x="460" y="-67.8" font-family="Times,serif" font-size="14.00">{</text>
<text text-anchor="middle" x="460" y="-52.8" font-family="Times,serif" font-size="14.00"> &#160;&quot;type&quot;: &quot;tool_call&quot;,</text>
<text text-anchor="middle" x="460" y="-37.8" font-family="Times,serif" font-size="14.00"> &#160;&quot;tool&quot;: &quot;execute_blender_code&quot;,</text>
<text text-anchor="middle" x="460" y="-22.8" font-family="Times,serif" font-size="14.00"> &#160;&quot;arguments&quot;: {...}</text>
<text text-anchor="middle" x="460" y="-7.8" font-family="Times,serif" font-size="14.00">}</text>
</g>
<!-- FastMCP&#45;&gt;MCP_Msg -->
<g id="edge10" class="edge">
<title>FastMCP&#45;&gt;MCP_Msg</title>
<path fill="none" stroke="black" stroke-dasharray="1,5" d="M135.01,-143.87C185.37,-129.12 259.97,-107.28 324.89,-88.27"/>
<polygon fill="black" stroke="black" points="326.19,-91.54 334.8,-85.37 324.22,-84.82 326.19,-91.54"/>
</g>
<!-- Python_API -->
<g id="node7" class="node">
<title>Python_API</title>
<polygon fill="white" stroke="black" points="881,-316 720,-316 720,-278 881,-278 881,-316"/>
<text text-anchor="middle" x="800.5" y="-300.8" font-family="Times,serif" font-size="14.00">Blender Python API</text>
<text text-anchor="middle" x="800.5" y="-285.8" font-family="Times,serif" font-size="14.00">bpy.context, bpy.ops</text>
</g>
<!-- BLD_TCP&#45;&gt;Python_API -->
<g id="edge7" class="edge">
<title>BLD_TCP&#45;&gt;Python_API</title>
<path fill="none" stroke="black" d="M535.29,-321.98C586.68,-317.12 655.34,-310.63 709.79,-305.48"/>
<polygon fill="black" stroke="black" points="710.15,-308.96 719.78,-304.54 709.49,-301.99 710.15,-308.96"/>
<text text-anchor="middle" x="652.5" y="-317.8" font-family="Times,serif" font-size="14.00">exec(code)</text>
</g>
<!-- Auto_TCP&#45;&gt;Python_API -->
<g id="edge8" class="edge">
<title>Auto_TCP&#45;&gt;Python_API</title>
<path fill="none" stroke="black" d="M530.32,-265.99C582.23,-271.97 653.68,-280.2 709.93,-286.68"/>
<polygon fill="black" stroke="black" points="709.55,-290.16 719.89,-287.83 710.35,-283.21 709.55,-290.16"/>
<text text-anchor="middle" x="652.5" y="-288.8" font-family="Times,serif" font-size="14.00">MCP Protocol</text>
</g>
<!-- Scene -->
<g id="node8" class="node">
<title>Scene</title>
<polygon fill="white" stroke="black" points="1067,-316 918,-316 918,-278 1067,-278 1067,-316"/>
<text text-anchor="middle" x="992.5" y="-300.8" font-family="Times,serif" font-size="14.00">Scene Objects</text>
<text text-anchor="middle" x="992.5" y="-285.8" font-family="Times,serif" font-size="14.00">Materials, Meshes</text>
</g>
<!-- Python_API&#45;&gt;Scene -->
<g id="edge2" class="edge">
<title>Python_API&#45;&gt;Scene</title>
<path fill="none" stroke="black" d="M881.25,-297C889.94,-297 898.8,-297 907.53,-297"/>
<polygon fill="black" stroke="black" points="907.71,-300.5 917.71,-297 907.71,-293.5 907.71,-300.5"/>
</g>
</g>
</svg>
